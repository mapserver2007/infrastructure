- name: install libselinux-python
  yum: name=libselinux-python state=latest
- name: set yum repository
  yum: name={{ item }}
  with_items:
    - ftp://rpmfind.net/linux/centos/7.1.1503/extras/x86_64/Packages/epel-release-7-5.noarch.rpm
    - http://rpms.famillecollet.com/enterprise/remi-release-7.rpm
    - http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm
- name: install git
  yum: name=git state=latest
- name: install gcc
  yum: name=gcc state=latest
- name: install python-devel
  yum: name=python-devel state=latest
- name: install docker
  yum: name=docker state=latest
  sudo: yes
- name: restart docker
  service: name=docker state=restarted
- name: force docker container clear
  shell: docker ps -a -q | awk '{if (length($1) > 0) system("sudo docker rm -f " $1)}'
  sudo: yes
